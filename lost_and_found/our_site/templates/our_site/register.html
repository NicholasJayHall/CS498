{% extends 'our_site/base.html' %}

{% block title %}Register â€“ Campus Lost & Found{% endblock %}

{% block content %}
<div class="auth-wrapper">
  <div class="auth-card">

    <h1 class="auth-title">ğŸ“ Register</h1>
    <p class="auth-subtitle">Join the Campus Lost &amp; Found community</p>

    <form method="post" novalidate>
      {% csrf_token %}

      <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;">
        <div class="form-group">
          <label for="{{ form.first_name.id_for_label }}">First Name</label>
          <input type="text" name="first_name" id="{{ form.first_name.id_for_label }}"
                 class="form-control" value="{{ form.first_name.value|default:'' }}" required>
          {% if form.first_name.errors %}
            {% for err in form.first_name.errors %}<p class="form-error">{{ err }}</p>{% endfor %}
          {% endif %}
        </div>
        <div class="form-group">
          <label for="{{ form.last_name.id_for_label }}">Last Name</label>
          <input type="text" name="last_name" id="{{ form.last_name.id_for_label }}"
                 class="form-control" value="{{ form.last_name.value|default:'' }}" required>
          {% if form.last_name.errors %}
            {% for err in form.last_name.errors %}<p class="form-error">{{ err }}</p>{% endfor %}
          {% endif %}
        </div>
      </div>

      <div class="form-group">
        <label for="{{ form.username.id_for_label }}">ğŸ‘¤ Username</label>
        <input type="text" name="username" id="{{ form.username.id_for_label }}"
               class="form-control" value="{{ form.username.value|default:'' }}" required>
        {% if form.username.errors %}
          {% for err in form.username.errors %}<p class="form-error">{{ err }}</p>{% endfor %}
        {% endif %}
      </div>

      <div class="form-group">
        <label for="{{ form.email.id_for_label }}">ğŸ“§ Email</label>
        <input type="email" name="email" id="{{ form.email.id_for_label }}"
               class="form-control" value="{{ form.email.value|default:'' }}" required
               placeholder="your@email.edu">
        <p class="helptext">Used for notifications about lost items.</p>
        {% if form.email.errors %}
          {% for err in form.email.errors %}<p class="form-error">{{ err }}</p>{% endfor %}
        {% endif %}
      </div>

      <div class="form-group">
        <label for="{{ form.password1.id_for_label }}">ğŸ”’ Password</label>
        <input type="password" name="password1" id="{{ form.password1.id_for_label }}"
               class="form-control" required>
        {% if form.password1.errors %}
          {% for err in form.password1.errors %}<p class="form-error">{{ err }}</p>{% endfor %}
        {% endif %}
      </div>

      <div class="form-group">
        <label for="{{ form.password2.id_for_label }}">ğŸ”’ Confirm Password</label>
        <input type="password" name="password2" id="{{ form.password2.id_for_label }}"
               class="form-control" required>
        {% if form.password2.errors %}
          {% for err in form.password2.errors %}<p class="form-error">{{ err }}</p>{% endfor %}
        {% endif %}
      </div>

      {% if form.non_field_errors %}
        {% for err in form.non_field_errors %}
          <div class="alert alert-error">{{ err }}</div>
        {% endfor %}
      {% endif %}

      <button type="submit" class="btn btn-primary" style="width:100%;justify-content:center;">
        ğŸ“ Create Account
      </button>
    </form>

    <hr class="auth-divider">
    <p style="text-align:center;font-size:0.88rem;color:var(--ink-light);">
      Already have an account? <a href="{% url 'login' %}">Log in here</a>
    </p>

  </div>
</div>
{% endblock %}
